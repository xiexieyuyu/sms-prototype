<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMS - Â§ñË¥∏Â∞èÂÆ∂Áîµ‰æõÂ∫îÂïÜÁÆ°ÁêÜÁ≥ªÁªü</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 
                   'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 14px;
      line-height: 1.5;
      color: #262626;
      background-color: #F5F6FA;
    }
    
    body {
      overflow-x: hidden;
    }
    
    a {
      color: #1890FF;
      text-decoration: none;
      cursor: pointer;
    }
    
    a:hover {
      color: #40a9ff;
    }
    
    button {
      font-family: inherit;
      font-size: inherit;
      cursor: pointer;
      border: none;
      outline: none;
      background: none;
    }
    
    input, select, textarea {
      font-family: inherit;
      font-size: inherit;
      outline: none;
    }
    
    #app {
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }
    
    .topbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 64px;
      background: #fff;
      border-bottom: 1px solid #F0F0F0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      z-index: 1000;
    }
    
    .topbar.client-mode-active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-bottom: none;
    }
    
    .topbar.client-mode-active .topbar-logo,
    .topbar.client-mode-active .topbar-username,
    .topbar.client-mode-active .topbar-role {
      color: #fff;
    }
    
    .topbar-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .topbar-logo {
      font-size: 20px;
      font-weight: bold;
      color: #1890FF;
      cursor: pointer;
    }
    
    .topbar-menu-toggle {
      display: none;
      font-size: 24px;
      cursor: pointer;
      color: #595959;
    }
    
    .topbar.client-mode-active .topbar-menu-toggle {
      color: #fff;
    }
    
    .topbar-client-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 16px;
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid #fff;
      border-radius: 20px;
      font-size: 14px;
      color: #fff;
      font-weight: bold;
    }
    
    .topbar-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .topbar-client-mode {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: #FAFAFA;
      border: 1px solid #D9D9D9;
      border-radius: 20px;
      font-size: 13px;
      color: #595959;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .topbar-client-mode:hover {
      border-color: #1890FF;
      color: #1890FF;
    }
    
    .topbar-client-mode.active {
      background: #fff;
      border-color: #fff;
      color: #667eea;
    }
    
    .topbar-user {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .topbar-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: bold;
      font-size: 14px;
    }
    
    .topbar.client-mode-active .topbar-avatar {
      border: 2px solid #fff;
    }
    
    .topbar-username {
      font-size: 14px;
      color: #262626;
    }
    
    .topbar-role {
      font-size: 12px;
      color: #8C8C8C;
    }
    
    .topbar-logout {
      padding: 6px 12px;
      background: #fff;
      border: 1px solid #D9D9D9;
      border-radius: 6px;
      color: #595959;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .topbar-logout:hover {
      color: #FF4D4F;
      border-color: #FF4D4F;
    }
    
    .topbar.client-mode-active .topbar-logout {
      background: rgba(255, 255, 255, 0.2);
      border-color: #fff;
      color: #fff;
    }
    
    .topbar.client-mode-active .topbar-logout:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    
    .sidebar {
      position: fixed;
      top: 64px;
      left: 0;
      bottom: 0;
      width: 240px;
      background: #fff;
      border-right: 1px solid #F0F0F0;
      overflow-y: auto;
      z-index: 999;
      transition: transform 0.3s;
    }
    
    .sidebar.hidden {
      transform: translateX(-100%);
    }
    
    .sidebar-section {
      padding: 16px 0;
      border-bottom: 1px solid #F0F0F0;
    }
    
    .sidebar-section:last-child {
      border-bottom: none;
    }
    
    .sidebar-section-title {
      padding: 0 24px 8px;
      font-size: 12px;
      color: #8C8C8C;
      text-transform: uppercase;
    }
    
    .sidebar-menu-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      color: #595959;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .sidebar-menu-item:hover {
      background: #F5F6FA;
      color: #1890FF;
    }
    
    .sidebar-menu-item.active {
      background: #E6F7FF;
      color: #1890FF;
    }
    
    .sidebar-menu-item.active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: #1890FF;
    }
    
    .main-content {
      margin-top: 64px;
      margin-left: 240px;
      padding: 24px;
      min-height: calc(100vh - 64px);
      overflow-y: auto;
      transition: margin-left 0.3s;
    }
    
    .main-content.no-sidebar {
      margin-left: 0;
    }
    
    .main-content.full-width {
      margin-left: 0;
    }
    
    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      overflow: hidden;
      margin-bottom: 24px;
    }
    
    .card-header {
      padding: 24px;
      border-bottom: 1px solid #F0F0F0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .card-title {
      font-size: 20px;
      font-weight: bold;
      color: #262626;
    }
    
    .card-subtitle {
      margin-top: 4px;
      font-size: 14px;
      color: #8C8C8C;
    }
    
    .card-body {
      padding: 24px;
    }
    
    .card-actions {
      display: flex;
      gap: 12px;
    }
    
    .btn {
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      border: none;
    }
    
    .btn-primary {
      background: #1890FF;
      color: #fff;
    }
    
    .btn-primary:hover {
      background: #40a9ff;
    }
    
    .btn-primary:disabled {
      background: #D9D9D9;
      cursor: not-allowed;
    }
    
    .btn-default {
      background: #fff;
      color: #595959;
      border: 1px solid #D9D9D9;
    }
    
    .btn-default:hover {
      color: #1890FF;
      border-color: #1890FF;
    }
    
    .btn-danger {
      background: #FF4D4F;
      color: #fff;
    }
    
    .btn-danger:hover {
      background: #ff7875;
    }
    
    .btn-lg {
      padding: 12px 24px;
      font-size: 16px;
    }
    
    .btn-sm {
      padding: 4px 8px;
      font-size: 12px;
    }
    
    .tag {
      display: inline-flex;
      align-items: center;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 13px;
      white-space: nowrap;
    }
    
    .tag-orange {
      background: #FFF7E6;
      color: #FA8C16;
    }
    
    .tag-green {
      background: #F6FFED;
      color: #52C41A;
    }
    
    .tag-blue {
      background: #E6F7FF;
      color: #1890FF;
    }
    
    .tag-red {
      background: #FFF1F0;
      color: #FF4D4F;
    }
    
    .tag-purple {
      background: #F9F0FF;
      color: #722ED1;
    }
    
    .tag-cyan {
      background: #E6FFFB;
      color: #13C2C2;
    }
    
    .tag-gold {
      background: #FFFBE6;
      color: #FAAD14;
    }
    
    .tag-gray {
      background: #FAFAFA;
      color: #8C8C8C;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #262626;
    }
    
    .form-label-required::after {
      content: ' *';
      color: #FF4D4F;
    }
    
    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #D9D9D9;
      border-radius: 6px;
      transition: all 0.2s;
    }
    
    .form-input:focus, .form-select:focus, .form-textarea:focus {
      border-color: #1890FF;
      box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.1);
    }
    
    .form-textarea {
      resize: vertical;
      min-height: 100px;
    }
    
    .form-error {
      color: #FF4D4F;
      font-size: 13px;
      margin-top: 4px;
    }
    
    .form-hint {
      color: #8C8C8C;
      font-size: 12px;
      margin-top: 4px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    
    .form-row-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
    
    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .checkbox-item input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }
    
    .tag-input-container {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      padding: 8px;
      border: 1px solid #D9D9D9;
      border-radius: 6px;
      min-height: 40px;
    }
    
    .tag-input-container:focus-within {
      border-color: #1890FF;
      box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.1);
    }
    
    .tag-input-item {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      background: #E6F7FF;
      color: #1890FF;
      border-radius: 4px;
      font-size: 13px;
    }
    
    .tag-input-item-remove {
      cursor: pointer;
      font-weight: bold;
    }
    
    .tag-input-field {
      flex: 1;
      min-width: 100px;
      border: none;
      outline: none;
      padding: 4px;
    }
    
    .list-item {
      padding: 16px;
      border: 1px solid #F0F0F0;
      border-radius: 8px;
      margin-bottom: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #fff;
    }
    
    .list-item-content {
      flex: 1;
    }
    
    .list-item-actions {
      display: flex;
      gap: 8px;
    }
    
    .list-item-indent {
      margin-left: 32px;
    }
    
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.45);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }
    
    .modal-overlay.active {
      display: flex;
    }
    
    .modal {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      max-width: 600px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid #F0F0F0;
    }
    
    .modal-title {
      font-size: 18px;
      font-weight: bold;
      color: #262626;
    }
    
    .modal-body {
      padding: 24px;
    }
    
    .modal-footer {
      padding: 16px 24px;
      border-top: 1px solid #F0F0F0;
      display: flex;
      justify-content: flex-end;
      gap: 12px;
    }
    
    .filter-bar {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      margin-bottom: 16px;
    }
    
    .filter-row {
      display: flex;
      gap: 16px;
      align-items: flex-end;
      flex-wrap: wrap;
    }
    
    .filter-item {
      flex: 0 0 auto;
      min-width: 200px;
    }
    
    .filter-item.flex-1 {
      flex: 1;
      min-width: 200px;
    }
    
    .grid {
      display: grid;
      gap: 24px;
    }
    
    .grid-2 {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .grid-3 {
      grid-template-columns: repeat(3, 1fr);
    }
    
    .grid-4 {
      grid-template-columns: repeat(4, 1fr);
    }
    
    .product-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .product-card:hover {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
      transform: translateY(-2px);
    }
    
    .product-card-checkbox {
      position: absolute;
      top: 12px;
      left: 12px;
      width: 20px;
      height: 20px;
      z-index: 10;
    }
    
    .product-card-image {
      height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
      background: #F5F6FA;
    }
    
    .product-card-body {
      padding: 16px;
    }
    
    .product-card-name {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 4px;
      color: #262626;
    }
    
    .product-card-sku {
      font-size: 13px;
      color: #8C8C8C;
      margin-bottom: 12px;
    }
    
    .product-card-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }
    
    .product-card-price {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 12px;
      border-top: 1px solid #F0F0F0;
    }
    
    .product-card-price-label {
      font-size: 12px;
      color: #8C8C8C;
    }
    
    .product-card-price-value {
      font-size: 18px;
      font-weight: bold;
      color: #1890FF;
    }
    
    .table-wrapper {
      overflow-x: auto;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
    }
    
    thead {
      background: #FAFAFA;
    }
    
    th {
      padding: 16px;
      text-align: left;
      font-weight: 600;
      color: #262626;
      border-bottom: 1px solid #F0F0F0;
      white-space: nowrap;
    }
    
    td {
      padding: 16px;
      border-bottom: 1px solid #F0F0F0;
    }
    
    tbody tr {
      transition: background 0.2s;
    }
    
    tbody tr:hover {
      background: #F0F7FF;
    }
    
    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }
    
    .info-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .info-label {
      font-size: 13px;
      color: #8C8C8C;
    }
    
    .info-value {
      font-size: 14px;
      color: #262626;
      font-weight: 500;
    }
    
    .section {
      margin-bottom: 32px;
    }
    
    .section-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 16px;
      color: #262626;
    }
    
    .section-divider {
      height: 1px;
      background: #F0F0F0;
      margin: 24px 0;
    }
    
    .alert {
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
      display: flex;
      gap: 12px;
    }
    
    .alert-info {
      background: #E6F7FF;
      border-left: 4px solid #1890FF;
    }
    
    .alert-warning {
      background: #FFF7E6;
      border-left: 4px solid #FA8C16;
    }
    
    .alert-success {
      background: #F6FFED;
      border-left: 4px solid #52C41A;
    }
    
    .alert-error {
      background: #FFF1F0;
      border-left: 4px solid #FF4D4F;
    }
    
    .compare-container {
      overflow-x: auto;
      position: relative;
    }
    
    .compare-table {
      min-width: 800px;
      border-collapse: separate;
      border-spacing: 0;
    }
    
    .compare-table thead th {
      position: sticky;
      top: 0;
      background: #FAFAFA;
      z-index: 20;
    }
    
    .compare-table th:first-child,
    .compare-table td:first-child {
      position: sticky;
      left: 0;
      background: #FAFAFA;
      z-index: 10;
    }
    
    .compare-table thead th:first-child {
      z-index: 30;
    }
    
    .compare-product-header {
      text-align: center;
      padding: 16px;
    }
    
    .compare-product-icon {
      font-size: 48px;
      margin-bottom: 8px;
    }
    
    .compare-product-name {
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 4px;
    }
    
    .compare-product-sku {
      font-size: 12px;
      color: #8C8C8C;
      margin-bottom: 8px;
    }
    
    .compare-remove {
      color: #FF4D4F;
      font-size: 12px;
      cursor: pointer;
    }
    
    .media-gallery {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }
    
    .media-main {
      flex: 1;
      height: 400px;
      background: #F5F6FA;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 120px;
    }
    
    .media-thumbs {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .media-thumb {
      width: 60px;
      height: 60px;
      background: #F5F6FA;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s;
    }
    
    .media-thumb:hover,
    .media-thumb.active {
      border-color: #1890FF;
    }
    
    .login-container {
      display: flex;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .login-brand {
      flex: 0 0 40%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #fff;
      padding: 48px;
    }
    
    .login-brand-logo {
      font-size: 64px;
      font-weight: bold;
      margin-bottom: 24px;
    }
    
    .login-brand-title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 12px;
    }
    
    .login-brand-subtitle {
      font-size: 16px;
      opacity: 0.9;
    }
    
    .login-form-section {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #fff;
      padding: 48px;
    }
    
    .login-form-wrapper {
      width: 100%;
      max-width: 400px;
    }
    
    .login-form-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 32px;
      text-align: center;
    }
    
    .login-test-accounts {
      margin-top: 24px;
      padding: 16px;
      background: #E6F7FF;
      border-left: 4px solid #1890FF;
      border-radius: 6px;
    }
    
    .login-test-accounts-title {
      font-weight: bold;
      margin-bottom: 8px;
      color: #0050B3;
    }
    
    .login-test-account {
      display: flex;
      justify-content: space-between;
      padding: 4px 0;
      color: #096DD9;
      font-size: 13px;
    }
    
    .placeholder-page {
      text-align: center;
      padding: 60px 24px;
    }
    
    .placeholder-icon {
      font-size: 80px;
      margin-bottom: 24px;
    }
    
    .placeholder-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 12px;
      color: #262626;
    }
    
    .placeholder-desc {
      font-size: 16px;
      color: #8C8C8C;
      margin-bottom: 32px;
    }
    
    .placeholder-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    @media (max-width: 1024px) {
      .topbar-menu-toggle {
        display: block;
      }
      
      .sidebar {
        transform: translateX(-100%);
      }
      
      .sidebar.active {
        transform: translateX(0);
      }
      
      .main-content {
        margin-left: 0;
      }
      
      .login-brand {
        display: none;
      }
      
      .grid-3, .grid-4 {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .info-grid, .form-row, .form-row-3 {
        grid-template-columns: 1fr;
      }
    }
    
    @media (max-width: 768px) {
      .topbar {
        padding: 0 16px;
      }
      
      .topbar-username,
      .topbar-role {
        display: none;
      }
      
      .main-content {
        padding: 16px;
      }
      
      .card-body {
        padding: 16px;
      }
      
      .grid-2, .grid-3, .grid-4 {
        grid-template-columns: 1fr;
      }
      
      .filter-row {
        flex-direction: column;
      }
      
      .filter-item {
        width: 100%;
      }
      
      .media-gallery {
        flex-direction: column;
      }
      
      .media-thumbs {
        flex-direction: row;
      }
    }
  </style>
</head>
<body>
  <div id="app"></div>
  
  <div id="clientModeModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">üîí ÂÖ≥Èó≠ÂÆ¢Êà∑ÊºîÁ§∫Ê®°Âºè</div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ËØ∑ËæìÂÖ•ÂΩìÂâçË¥¶Âè∑ÂØÜÁ†Å‰ª•ÂÖ≥Èó≠ÊºîÁ§∫Ê®°Âºè</label>
          <input type="password" id="clientModePassword" class="form-input" placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">
        </div>
        <div id="clientModeError" style="color: #FF4D4F; font-size: 13px; margin-top: 8px; display: none;">ÂØÜÁ†ÅÈîôËØØ,ËØ∑ÈáçËØï</div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" onclick="cancelClientModeClose()">ÂèñÊ∂à</button>
        <button class="btn btn-primary" onclick="confirmClientModeClose()">Á°ÆËÆ§</button>
      </div>
    </div>
  </div>

  <script>
    const db={users:[{id:1,username:"admin",demoPassword:"123456",realName:"ÁÆ°ÁêÜÂëò",role:"admin",avatar:"A",avatarBg:"#1890FF",status:"active"},{id:2,username:"sales",demoPassword:"123456",realName:"‰∏öÂä°Âëò",role:"sales",avatar:"S",avatarBg:"#52C41A",status:"active"}],categories:[{id:1,name:"Âé®ÊàøÁîµÂô®",parentId:null,sortOrder:1,enabled:!0,templateKey:null},{id:2,name:"Ê¶®Ê±ÅÊú∫",parentId:1,templateKey:"juicer",sortOrder:11,enabled:!0},{id:5,name:"ÂíñÂï°Êú∫",parentId:1,templateKey:"coffee",sortOrder:14,enabled:!0},{id:6,name:"Á©∫Ê∞îÁÇ∏ÈîÖ",parentId:1,templateKey:"airfryer",sortOrder:15,enabled:!0},{id:10,name:"Ê∏ÖÊ¥ÅÁîµÂô®",parentId:null,sortOrder:2,enabled:!0,templateKey:null},{id:11,name:"Âê∏Â∞òÂô®",parentId:10,templateKey:"vacuum",sortOrder:21,enabled:!0},{id:12,name:"Êâ´Âú∞Êú∫Âô®‰∫∫",parentId:10,templateKey:"robot",sortOrder:22,enabled:!0},{id:13,name:"Ëí∏Ê±ΩÊãñÊää",parentId:10,templateKey:"steammop",sortOrder:23,enabled:!0},{id:14,name:"Â∏ÉËâ∫Ê∏ÖÊ¥óÊú∫",parentId:10,templateKey:"fabriccleaner",sortOrder:24,enabled:!0}],tags:[{id:1,name:"ÁÉ≠ÈîÄ",group:"feature",color:"#FA8C16",bgColor:"#FFF7E6",visibleTo:["admin","sales","client"],applicableTo:["product"],enabled:!0,sortOrder:1},{id:2,name:"OEMÂèØÂÆöÂà∂",group:"strategy",color:"#52C41A",bgColor:"#F6FFED",visibleTo:["admin","sales"],applicableTo:["product"],enabled:!0,sortOrder:2},{id:3,name:"Êñ∞ÂìÅ",group:"feature",color:"#1890FF",bgColor:"#E6F7FF",visibleTo:["admin","sales","client"],applicableTo:["product"],enabled:!0,sortOrder:3},{id:4,name:"Áã¨ÂÆ∂",group:"status",color:"#722ED1",bgColor:"#F9F0FF",visibleTo:["admin"],applicableTo:["product"],enabled:!0,sortOrder:4},{id:5,name:"ÁéØ‰øù",group:"feature",color:"#13C2C2",bgColor:"#E6FFFB",visibleTo:["admin","sales","client"],applicableTo:["product"],enabled:!0,sortOrder:5},{id:11,name:"ÈùôÈü≥",group:"feature",color:"#52C41A",bgColor:"#F6FFED",visibleTo:["admin","sales","client"],applicableTo:["product"],enabled:!0,sortOrder:6},{id:9,name:"CEËÆ§ËØÅ",group:"certification",color:"#1890FF",bgColor:"#E6F7FF",visibleTo:["admin","sales","client"],applicableTo:["product"],enabled:!0,sortOrder:7},{id:14,name:"RoHSËÆ§ËØÅ",group:"certification",color:"#1890FF",bgColor:"#E6F7FF",visibleTo:["admin","sales","client"],applicableTo:["product"],enabled:!0,sortOrder:8}],templates:[{id:1,templateKey:"vacuum",name:"Âê∏Â∞òÂô®ÂèÇÊï∞Ê®°Êùø",enabled:!0,parameters:[{fieldKey:"power",label:"ÂäüÁéá",type:"number",unit:"W",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"battery_capacity",label:"ÁîµÊ±†ÂÆπÈáè",type:"number",unit:"mAh",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"voltage",label:"ÁîµÂéã",type:"number",unit:"V",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"runtime",label:"Áª≠Ëà™Êó∂Èó¥",type:"number",unit:"min",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"dust_capacity",label:"Â∞òÊùØÂÆπÈáè",type:"number",unit:"ml",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"weight",label:"ÂáÄÈáç",type:"number",unit:"kg",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"noise_level",label:"Âô™Èü≥Á≠âÁ∫ß",type:"number",unit:"dB",required:!1,visibleTo:["admin","sales","client"]}]},{id:2,templateKey:"juicer",name:"Ê¶®Ê±ÅÊú∫ÂèÇÊï∞Ê®°Êùø",enabled:!0,parameters:[{fieldKey:"power",label:"ÂäüÁéá",type:"number",unit:"W",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"capacity",label:"ÂÆπÈáè",type:"number",unit:"ml",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"voltage",label:"ÁîµÂéã",type:"number",unit:"V",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"speed",label:"ËΩ¨ÈÄü",type:"number",unit:"RPM",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"weight",label:"ÂáÄÈáç",type:"number",unit:"kg",required:!0,visibleTo:["admin","sales","client"]}]},{id:3,templateKey:"airfryer",name:"Á©∫Ê∞îÁÇ∏ÈîÖÂèÇÊï∞Ê®°Êùø",enabled:!0,parameters:[{fieldKey:"power",label:"ÂäüÁéá",type:"number",unit:"W",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"capacity",label:"ÂÆπÈáè",type:"number",unit:"ml",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"voltage",label:"ÁîµÂéã",type:"number",unit:"V",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"temp_range",label:"Ê∏©Â∫¶ËåÉÂõ¥",type:"text",unit:"",required:!0,visibleTo:["admin","sales","client"]},{fieldKey:"weight",label:"ÂáÄÈáç",type:"number",unit:"kg",required:!0,visibleTo:["admin","sales","client"]}]}],vendors:[{id:1,name:"Ê∑±Âú≥Ê∏ÖÊ¥ÅËÆæÂ§áÁßëÊäÄÊúâÈôêÂÖ¨Âè∏",icon:"üè≠",rating:4,established:2015,location:{province:"Âπø‰∏úÁúÅ",city:"Ê∑±Âú≥Â∏Ç",district:"ÂÆùÂÆâÂå∫"},address:"Âπø‰∏úÁúÅÊ∑±Âú≥Â∏ÇÂÆùÂÆâÂå∫Ë•ø‰π°Ë°óÈÅìÂõ∫ÊàçÁ§æÂå∫ÂÆùÊ∫êË∑Ø1Âè∑FÊ†ã",mainCategories:["Âê∏Â∞òÂô®","Êâ´Âú∞Êú∫Âô®‰∫∫","Ëí∏Ê±ΩÊãñÊää"],cooperatedBrands:["Philips","Midea","Bear"],factoryCerts:["ISO 9001","BSCI"],productComplianceExperience:["CE","RoHS","FCC","UL"],products:[1,5,6],productCount:3,cooperationYears:3,avgLeadTime:30,adminOnly:{legalPerson:"ÁéãÂª∫ÂõΩ",capitalCNY:5e6,employeesRange:{min:50,max:100},contact:{person:"ÁéãÊÄª",position:"ÊÄªÁªèÁêÜ",phone:"0755-8888-6666",mobile:"138-0000-8888",email:"wang@szcleaner.com"}},assets:[{type:"pdf",title:"Ëê•‰∏öÊâßÁÖß",src:"(mock)",clientVisible:!1},{type:"pdf",title:"ISO 9001ËØÅ‰π¶",src:"(mock)",clientVisible:!1}]},{id:2,name:"ÊµôÊ±üÂé®ÁîµÊô∫ÈÄ†ÊúâÈôêÂÖ¨Âè∏",icon:"üè≠",rating:5,established:2012,location:{province:"ÊµôÊ±üÁúÅ",city:"ÂÆÅÊ≥¢Â∏Ç",district:"ÊÖàÊ∫™Â∏Ç"},address:"ÊµôÊ±üÁúÅÂÆÅÊ≥¢Â∏ÇÊÖàÊ∫™Â∏ÇËßÇÊµ∑Âç´ÈïáÂ∑•‰∏öÂõ≠Âå∫ÂàõÊñ∞Ë∑Ø88Âè∑",mainCategories:["Ê¶®Ê±ÅÊú∫","Á†¥Â£ÅÊú∫","ÊêÖÊãåÊú∫"],cooperatedBrands:["Midea","Joyoung","Bear"],factoryCerts:["ISO 9001","ISO 14001"],productComplianceExperience:["CE","RoHS","FDA"],products:[2,7],productCount:2,cooperationYears:5,avgLeadTime:25,adminOnly:{legalPerson:"ÊùéÊòéÂçé",capitalCNY:8e6,employeesRange:{min:100,max:200},contact:{person:"ÊùéÊÄª",position:"Ëë£‰∫ãÈïø",phone:"0574-6688-9999",mobile:"139-0000-6666",email:"li@zjkitchen.com"}},assets:[{type:"pdf",title:"Ëê•‰∏öÊâßÁÖß",src:"(mock)",clientVisible:!1},{type:"pdf",title:"ISOËØÅ‰π¶",src:"(mock)",clientVisible:!1}]},{id:3,name:"Âπø‰∏úÂ∞èÂÆ∂ÁîµÂà∂ÈÄ†ËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏",icon:"üè≠",rating:4,established:2010,location:{province:"Âπø‰∏úÁúÅ",city:"‰ΩõÂ±±Â∏Ç",district:"È°∫Âæ∑Âå∫"},address:"Âπø‰∏úÁúÅ‰ΩõÂ±±Â∏ÇÈ°∫Âæ∑Âå∫ÂÆπÊ°ÇË°óÈÅìÂçéÂè£Â∑•‰∏öÂå∫ÊåØÂçéË∑Ø28Âè∑",mainCategories:["Á©∫Ê∞îÁÇ∏ÈîÖ","ÁîµÁÉ§ÁÆ±"],cooperatedBrands:["Midea","Galanz"],factoryCerts:["ISO 9001","BSCI"],productComplianceExperience:["CE","RoHS","CB"],products:[3],productCount:1,cooperationYears:4,avgLeadTime:35,adminOnly:{legalPerson:"Âº†‰ºüÂº∫",capitalCNY:12e6,employeesRange:{min:200,max:500},contact:{person:"Âº†ÊÄª",position:"ÊÄªÁªèÁêÜ",phone:"0757-2888-6666",mobile:"136-0000-9999",email:"zhang@gdappliance.com"}},assets:[{type:"pdf",title:"Ëê•‰∏öÊâßÁÖß",src:"(mock)",clientVisible:!1}]}],products:[{id:1,sku:"VC-5000",name:"Êó†Á∫øÊâãÊåÅÂê∏Â∞òÂô® Pro",categoryId:11,brand:"CleanPro",tags:["ÁÉ≠ÈîÄ","OEMÂèØÂÆöÂà∂","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:1,moq:500,factoryPrice:22,marketGuidePrice:25.3,benchmarkProduct:"Shark Navigator NV360",benchmarkContext:"Navigator Lift-Away Deluxe ÊòØÁæéÂõΩÂ∏ÇÂú∫ÊúÄÂèóÊ¨¢ËøéÁöÑÁ´ãÂºèÂê∏Â∞òÂô®‰πã‰∏ÄÔºåÂîÆ‰ª∑Á∫¶$199„ÄÇÊàë‰ª¨ÁöÑ‰∫ßÂìÅÂú®ÂäüËÉΩ‰∏äÂØπÊ†áËØ•Ê¨æÂºè„ÄÇ",media:[{type:"image",url:"üå™Ô∏è",isClientVisible:!0},{type:"image",url:"üì∑",isClientVisible:!0}],specs:{power:{value:120,unit:"W"},battery_capacity:{value:2500,unit:"mAh"},voltage:{value:22,unit:"V"},runtime:{value:45,unit:"min"},dust_capacity:{value:500,unit:"ml"},weight:{value:1.5,unit:"kg"},noise_level:{value:68,unit:"dB"}},certifications:[{name:"CE",code:"CE-2024-001",public:!0},{name:"RoHS",code:"RoHS-2024-002",public:!0},{name:"UL",code:"UL-2024-004",public:!1}],salesRestrictions:[{country:"US",client:"Home Depot"},{country:"EU",client:"MediaMarkt"}],internalNotes:{collaboration:[{type:"info",icon:"üí°",title:"Â∏ÇÂú∫ÂèçÈ¶à",content:"ÂÆ¢Êà∑ÂèçÈ¶àÁîµÊ±†Áª≠Ëà™Ë°®Áé∞‰ºòÂºÇ",visibleTo:["admin","sales"]}],sensitive:[{type:"warning",icon:"üîí",title:"ÊàêÊú¨Êú∫ÂØÜ",content:"Âá∫ÂéÇ‰ª∑$22.00‰∏∫Êú∫ÂØÜ‰ø°ÊÅØ",visibleTo:["admin"]}]}},{id:2,sku:"JM-2000",name:"Â§öÂäüËÉΩÁ†¥Â£ÅÊñôÁêÜÊú∫",categoryId:2,brand:"JoyMix",tags:["ÁÉ≠ÈîÄ","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:2,moq:300,factoryPrice:45,marketGuidePrice:51.75,benchmarkProduct:"Vitamix E310",benchmarkContext:"E310ÊòØVitamixÂÖ•Èó®Á∫ßÁ†¥Â£ÅÊú∫ÔºåÂîÆ‰ª∑Á∫¶$349„ÄÇ",media:[{type:"image",url:"ü•§",isClientVisible:!0}],specs:{power:{value:1500,unit:"W"},capacity:{value:2e3,unit:"ml"},voltage:{value:220,unit:"V"},speed:{value:3e4,unit:"RPM"},weight:{value:3.5,unit:"kg"}},certifications:[{name:"CE",code:"CE-2024-011",public:!0}],salesRestrictions:[],internalNotes:{collaboration:[],sensitive:[]}},{id:3,sku:"AF-3500",name:"Êô∫ËÉΩÁ©∫Ê∞îÁÇ∏ÈîÖ 3.5L",categoryId:6,brand:"AirFry Pro",tags:["Êñ∞ÂìÅ","Áã¨ÂÆ∂","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:3,moq:500,factoryPrice:38,marketGuidePrice:43.7,benchmarkProduct:"Philips HD9252",benchmarkContext:"HD9252ÊòØÈ£ûÂà©Êµ¶ÁªèÂÖ∏Ê¨æÁ©∫Ê∞îÁÇ∏ÈîÖÔºåÂîÆ‰ª∑Á∫¶$129„ÄÇ",media:[{type:"image",url:"üå™Ô∏è",isClientVisible:!0}],specs:{power:{value:1800,unit:"W"},capacity:{value:3500,unit:"ml"},voltage:{value:220,unit:"V"},temp_range:"80-200¬∞C",weight:{value:4.2,unit:"kg"}},certifications:[{name:"CE",code:"CE-2024-021",public:!0}],salesRestrictions:[{country:"EU",client:"MediaMarkt"}],internalNotes:{collaboration:[],sensitive:[{type:"warning",icon:"üîí",title:"Áã¨ÂÆ∂ÂçèËÆÆ",content:"MediaMarktÊúâÊ¨ßÁõüÂ∏ÇÂú∫Áã¨ÂÆ∂ÈîÄÂîÆÊùÉ",visibleTo:["admin"]}]}},{id:4,sku:"CM-800",name:"ÂÖ®Ëá™Âä®ÊÑèÂºèÂíñÂï°Êú∫",categoryId:5,brand:"BrewMaster",tags:["ÁÉ≠ÈîÄ","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:1,moq:200,factoryPrice:85,marketGuidePrice:97.75,benchmarkProduct:"DeLonghi Magnifica",benchmarkContext:"MagnificaÊòØÂæ∑ÈæôÂÖ•Èó®Á∫ßÂÖ®Ëá™Âä®ÂíñÂï°Êú∫ÔºåÂîÆ‰ª∑Á∫¶$599„ÄÇ",media:[{type:"image",url:"‚òï",isClientVisible:!0}],specs:{power:{value:1200,unit:"W"},capacity:{value:800,unit:"ml"},voltage:{value:220,unit:"V"},weight:{value:2.8,unit:"kg"}},certifications:[{name:"CE",code:"CE-2024-031",public:!0}],salesRestrictions:[],internalNotes:{collaboration:[],sensitive:[]}},{id:5,sku:"SM-1200",name:"Êô∫ËÉΩËí∏Ê±ΩÊãñÊää",categoryId:13,brand:"SteamClean",tags:["Êñ∞ÂìÅ","ÁéØ‰øù","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:1,moq:400,factoryPrice:32,marketGuidePrice:36.8,benchmarkProduct:"Shark Steam Mop",benchmarkContext:"Shark Steam MopÊòØÁæéÂõΩÂ∏ÇÂú∫ÁÉ≠ÈîÄÁöÑËí∏Ê±ΩÊãñÊää„ÄÇ",media:[{type:"image",url:"üßπ",isClientVisible:!0}],specs:{power:{value:1500,unit:"W"},weight:{value:2.5,unit:"kg"}},certifications:[{name:"CE",code:"CE-2024-041",public:!0}],salesRestrictions:[],internalNotes:{collaboration:[],sensitive:[]}},{id:6,sku:"RV-2000",name:"Êô∫ËÉΩÊâ´Âú∞Êú∫Âô®‰∫∫",categoryId:12,brand:"RoboVac",tags:["ÁÉ≠ÈîÄ","ÈùôÈü≥","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:1,moq:300,factoryPrice:120,marketGuidePrice:138,benchmarkProduct:"iRobot Roomba 694",benchmarkContext:"Roomba 694ÊòØiRobotÂÖ•Èó®Á∫ßÊâ´Âú∞Êú∫Âô®‰∫∫„ÄÇ",media:[{type:"image",url:"ü§ñ",isClientVisible:!0}],specs:{power:{value:25,unit:"W"},battery_capacity:{value:2600,unit:"mAh"},voltage:{value:14.4,unit:"V"},runtime:{value:90,unit:"min"},dust_capacity:{value:600,unit:"ml"},weight:{value:2.8,unit:"kg"},noise_level:{value:55,unit:"dB"}},certifications:[{name:"CE",code:"CE-2024-051",public:!0}],salesRestrictions:[],internalNotes:{collaboration:[],sensitive:[]}},{id:7,sku:"BM-500",name:"‰æøÊê∫ÂºèÊ¶®Ê±ÅÊùØ",categoryId:2,brand:"BlendMini",tags:["Êñ∞ÂìÅ","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:2,moq:500,factoryPrice:12,marketGuidePrice:13.8,benchmarkProduct:"BlendJet 2",benchmarkContext:"BlendJet 2ÊòØÁæéÂõΩÁÉ≠ÈîÄÁöÑ‰æøÊê∫ÂºèÊ¶®Ê±ÅÊùØ„ÄÇ",media:[{type:"image",url:"ü•§",isClientVisible:!0}],specs:{power:{value:60,unit:"W"},capacity:{value:500,unit:"ml"},voltage:{value:7.4,unit:"V"},speed:{value:2e4,unit:"RPM"},weight:{value:.5,unit:"kg"}},certifications:[{name:"CE",code:"CE-2024-061",public:!0}],salesRestrictions:[],internalNotes:{collaboration:[],sensitive:[]}},{id:8,sku:"FC-800",name:"Â∏ÉËâ∫Ê∏ÖÊ¥óÊú∫",categoryId:14,brand:"FabricCare",tags:["Êñ∞ÂìÅ","CEËÆ§ËØÅ"],status:"Âú®ÂîÆ",vendorId:1,moq:300,factoryPrice:55,marketGuidePrice:63.25,benchmarkProduct:"Bissell SpotClean",benchmarkContext:"Bissell SpotCleanÊòØÁæéÂõΩÂ∏ÇÂú∫ÁÉ≠ÈîÄÁöÑÂ∏ÉËâ∫Ê∏ÖÊ¥óÊú∫„ÄÇ",media:[{type:"image",url:"üßΩ",isClientVisible:!0}],specs:{power:{value:500,unit:"W"},weight:{value:4.5,unit:"kg"}},certifications:[{name:"CE",code:"CE-2024-071",public:!0}],salesRestrictions:[],internalNotes:{collaboration:[],sensitive:[]}}]};const state={currentUser:null,currentRole:null,isClientMode:!1,selectedProductIds:[],lastNonClientHash:"",sidebarOpen:!1,filters:{search:"",categoryId:"",tags:[]},editingProduct:null,editingVendor:null,editingCategory:null,editingTag:null,editingTemplate:null,editingUser:null};function getCategoryById(e){return db.categories.find(t=>t.id===e)}function getVendorById(e){return db.vendors.find(t=>t.id===parseInt(e))}function getProductById(e){return db.products.find(t=>t.id===parseInt(e))}function getTagByName(e){return db.tags.find(t=>t.name===e)}function getTemplateByKey(e){return db.templates.find(t=>t.templateKey===e)}function getUserById(e){return db.users.find(t=>t.id===parseInt(e))}function getNextId(e){return 0===e.length?1:Math.max(...e.map(e=>e.id))+1}function filterByRole(e,t){const{currentRole:i,isClientMode:a}=state,o=a?"client":i;if("product"===t){const t=JSON.parse(JSON.stringify(e));if("sales"===o)delete t.vendorId,delete t.factoryPrice,delete t.moq,t.internalNotes={collaboration:(t.internalNotes?.collaboration)||[],sensitive:[]},t.certifications&&(t.certifications=t.certifications.map(e=>({...e,displayName:e.public?e.name:`${e.name} (ÂÜÖÈÉ®)`})));else if("client"===o){if(delete t.vendorId,delete t.factoryPrice,delete t.marketGuidePrice,delete t.moq,delete t.benchmarkProduct,delete t.benchmarkContext,delete t.salesRestrictions,delete t.internalNotes,t.tags=t.tags.filter(e=>{const t=getTagByName(e);return t&&t.visibleTo.includes("client")}),t.certifications)t.certifications=t.certifications.filter(e=>e.public)}return t}return"vendor"===t&&"admin"!==o?null:e}function formatPrice(e){return"$"+e.toFixed(2)}function getTagColor(e){const t=getTagByName(e);return t?{color:t.color,bgColor:t.bgColor}:{color:"#8C8C8C",bgColor:"#FAFAFA"}}function matchRoute(e,t){const i=e.replace(/^#\//,"").split("/"),a=t.replace(/^#\//,"").split("/");return i.length===a.length&&a.every((e,t)=>!!e.startsWith(":")||e===i[t])}function extractParams(e,t){const i=e.replace(/^#\//,"").split("/"),a=t.replace(/^#\//,"").split("/"),o={};return a.forEach((e,t)=>{e.startsWith(":")&&(o[e.slice(1)]=i[t])}),o}const permissionRules=[{pattern:"#/login",roles:["*"],requireClientMode:null},{pattern:"#/products",roles:["admin"],requireClientMode:!1},{pattern:"#/product/:id",roles:["admin"],requireClientMode:!1},{pattern:"#/product-edit/:id",roles:["admin"],requireClientMode:!1},{pattern:"#/product-edit",roles:["admin"],requireClientMode:!1},{pattern:"#/compare",roles:["admin"],requireClientMode:!1},{pattern:"#/vendors",roles:["admin"],requireClientMode:!1},{pattern:"#/vendor/:id",roles:["admin"],requireClientMode:!1},{pattern:"#/vendor-edit/:id",roles:["admin"],requireClientMode:!1},{pattern:"#/vendor-edit",roles:["admin"],requireClientMode:!1},{pattern:"#/settings/:key",roles:["admin"],requireClientMode:!1},{pattern:"#/sales/products",roles:["sales","admin"],requireClientMode:!1},{pattern:"#/sales/product/:id",roles:["sales","admin"],requireClientMode:!1},{pattern:"#/sales/compare",roles:["sales","admin"],requireClientMode:!1},{pattern:"#/client/products",roles:["*"],requireClientMode:!0},{pattern:"#/client/product/:id",roles:["*"],requireClientMode:!0},{pattern:"#/client/compare",roles:["*"],requireClientMode:!0}];function guardRoute(e){const{currentRole:t,isClientMode:i}=state;if(!t)return"#/login"===e?e:"#/login";if("#/login"===e)return"sales"===t?"#/sales/products":"#/products";const a=permissionRules.find(t=>matchRoute(e,t.pattern));if(!a)return"sales"===t?"#/sales/products":"#/products";if(!0===a.requireClientMode&&!i)return"sales"===t?"#/sales/products":"#/products";if(!1===a.requireClientMode&&i)return"#/client/products";return"*"===a.roles[0]||a.roles.includes(t)?e:"#/sales/products"}function navigate(e){const t=guardRoute(e);t!==e?window.location.hash=t:window.location.hash=e}function router(){const e=window.location.hash||"#/login",t=guardRoute(e);if(t!==e)return void(window.location.hash=t);let i={};for(const a of permissionRules)if(matchRoute(e,a.pattern)){i=extractParams(e,a.pattern);break}"#/login"===e?renderLogin():"#/products"===e||"#/sales/products"===e||"#/client/products"===e?renderProductList():matchRoute(e,"#/product/:id")||matchRoute(e,"#/sales/product/:id")||matchRoute(e,"#/client/product/:id")?renderProductDetail(i.id):matchRoute(e,"#/product-edit/:id")||"#/product-edit"===e?renderProductEdit(i.id):"#/compare"===e||"#/sales/compare"===e||"#/client/compare"===e?renderProductCompare():"#/vendors"===e?renderVendorList():matchRoute(e,"#/vendor/:id")?renderVendorDetail(i.id):matchRoute(e,"#/vendor-edit/:id")||"#/vendor-edit"===e?renderVendorEdit(i.id):matchRoute(e,"#/settings/:key")?renderSettings(i.key):render404()}function login(e,t){const i=db.users.find(i=>i.username===e&&i.demoPassword===t);if(i){state.currentUser=i,state.currentRole=i.role;const e="sales"===i.role?"#/sales/products":"#/products";navigate(e)}else return"Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ"}function logout(){state.currentUser=null,state.currentRole=null,state.isClientMode=!1,state.selectedProductIds=[],state.lastNonClientHash="",navigate("#/login")}function enableClientMode(){const e=window.location.hash||"#/login";state.lastNonClientHash=e,state.isClientMode=!0,e.startsWith("#/sales/product/")?navigate(e.replace("#/sales/product/","#/client/product/")):e.startsWith("#/product/")&&!e.includes("-edit")?navigate(e.replace("#/product/","#/client/product/")):"#/sales/products"===e||"#/products"===e?navigate("#/client/products"):"#/sales/compare"===e||"#/compare"===e?navigate("#/client/compare"):navigate("#/client/products")}function disableClientMode(){document.getElementById("clientModeModal").classList.add("active")}function cancelClientModeClose(){document.getElementById("clientModeModal").classList.remove("active"),document.getElementById("clientModePassword").value="",document.getElementById("clientModeError").style.display="none"}function confirmClientModeClose(){const e=document.getElementById("clientModePassword").value;e===state.currentUser.demoPassword?(state.isClientMode=!1,document.getElementById("clientModeModal").classList.remove("active"),document.getElementById("clientModePassword").value="",document.getElementById("clientModeError").style.display="none",navigate(state.lastNonClientHash||("sales"===state.currentRole?"#/sales/products":"#/products"))):document.getElementById("clientModeError").style.display="block"}function toggleClientMode(){state.isClientMode?disableClientMode():enableClientMode()}function toggleSidebar(){state.sidebarOpen=!state.sidebarOpen;const e=document.querySelector(".sidebar");e&&e.classList.toggle("active",state.sidebarOpen)}function getSidebarMenus(){const{currentRole:e,isClientMode:t}=state;return t?[{section:"‰∫ßÂìÅÁÆ°ÁêÜ",items:[{icon:"üì¶",label:"‰∫ßÂìÅÂàóË°®",hash:"#/client/products"},{icon:"‚öñÔ∏è",label:"‰∫ßÂìÅÂØπÊØî",hash:"#/client/compare"}]}]:"admin"===e?[{section:"‰∫ßÂìÅÁÆ°ÁêÜ",items:[{icon:"üì¶",label:"‰∫ßÂìÅÂàóË°®",hash:"#/products"},{icon:"‚öñÔ∏è",label:"‰∫ßÂìÅÂØπÊØî",hash:"#/compare"}]},{section:"‰æõÂ∫îÂïÜÁÆ°ÁêÜ",items:[{icon:"üè≠",label:"‰æõÂ∫îÂïÜÂàóË°®",hash:"#/vendors"}]},{section:"Á≥ªÁªüËÆæÁΩÆ",items:[{icon:"üìÅ",label:"ÂàÜÁ±ªÁÆ°ÁêÜ",hash:"#/settings/categories"},{icon:"üè∑Ô∏è",label:"Ê†áÁ≠æÁÆ°ÁêÜ",hash:"#/settings/tags"},{icon:"üìã",label:"ÂèÇÊï∞Ê®°Êùø",hash:"#/settings/templates"},{icon:"üë•",label:"Áî®Êà∑ÁÆ°ÁêÜ",hash:"#/settings/users"}]}]:"sales"===e?[{section:"‰∫ßÂìÅÁÆ°ÁêÜ",items:[{icon:"üì¶",label:"‰∫ßÂìÅÂàóË°®",hash:"#/sales/products"},{icon:"‚öñÔ∏è",label:"‰∫ßÂìÅÂØπÊØî",hash:"#/sales/compare"}]}]:[]}function renderTopbar(){if(!state.currentUser)return"";const{currentUser:e,isClientMode:t}=state;return`\n        <div class="topbar ${t?"client-mode-active":""}">\n          <div class="topbar-left">\n            <div class="topbar-menu-toggle" onclick="toggleSidebar()">‚ò∞</div>\n            <div class="topbar-logo" onclick="navigate('${"sales"===e.role?"#/sales/products":"#/products"}')">SMS</div>\n            ${t?'<div class="topbar-client-badge">üëÅ ÂÆ¢Êà∑ÊºîÁ§∫Ê®°Âºè</div>':""}\n          </div>\n          <div class="topbar-right">\n            <button class="topbar-client-mode ${t?"active":""}" onclick="toggleClientMode()">\n              ${t?"üîí ÈÄÄÂá∫ÊºîÁ§∫Ê®°Âºè":"üëÅ ÂÆ¢Êà∑ÊºîÁ§∫Ê®°Âºè"}\n            </button>\n            <div class="topbar-user">\n              <div class="topbar-avatar" style="background: ${e.avatarBg}">${e.avatar}</div>\n              <div>\n                <div class="topbar-username">${e.realName}</div>\n                <div class="topbar-role">${"admin"===e.role?"ÁÆ°ÁêÜÂëò":"‰∏öÂä°Âëò"}</div>\n              </div>\n            </div>\n            <button class="topbar-logout" onclick="logout()">ÈÄÄÂá∫</button>\n          </div>\n        </div>\n      `}function renderSidebar(){if(!state.currentUser)return"";const e=getSidebarMenus(),t=window.location.hash;return`\n        <div class="sidebar ${state.sidebarOpen?"active":""}">\n          ${e.map(e=>`\n            <div class="sidebar-section">\n              <div class="sidebar-section-title">${e.section}</div>\n              ${e.items.map(e=>`\n                <div class="sidebar-menu-item ${t===e.hash||t.startsWith(e.hash.replace("s","product").replace("compare","product"))?"active":""}" onclick="navigate('${e.hash}'); state.sidebarOpen = false; router();">\n                  <span>${e.icon}</span>\n                  <span>${e.label}</span>\n                </div>\n              `).join("")}\n            </div>\n          `).join("")}\n        </div>\n      `}function renderLayout(e){const t=document.getElementById("app"),i=!!state.currentUser;t.innerHTML=`\n        ${i?renderTopbar():""}\n        ${i?renderSidebar():""}\n        <div class="main-content ${i?"":"no-sidebar full-width"}">\n          ${e}\n        </div>\n      `}function renderLogin(){document.getElementById("app").innerHTML=`\n        <div class="login-container">\n          <div class="login-brand">\n            <div class="login-brand-logo">SMS</div>\n            <div class="login-brand-title">Â§ñË¥∏Â∞èÂÆ∂Áîµ‰æõÂ∫îÂïÜÁÆ°ÁêÜÁ≥ªÁªü</div>\n            <div class="login-brand-subtitle">Supplier Management System</div>\n          </div>\n          <div class="login-form-section">\n            <div class="login-form-wrapper">\n              <div class="login-form-title">Ê¨¢ËøéÁôªÂΩï</div>\n              <form onsubmit="event.preventDefault(); handleLogin();">\n                <div class="form-group">\n                  <label class="form-label">Áî®Êà∑Âêç</label>\n                  <input type="text" id="loginUsername" class="form-input" placeholder="ËØ∑ËæìÂÖ•Áî®Êà∑Âêç" required>\n                </div>\n                <div class="form-group">\n                  <label class="form-label">ÂØÜÁ†Å</label>\n                  <input type="password" id="loginPassword" class="form-input" placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å" required>\n                  <div id="loginError" class="form-error" style="display: none;"></div>\n                </div>\n                <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">ÁôªÂΩï</button>\n              </form>\n              <div class="login-test-accounts">\n                <div class="login-test-accounts-title">ÊµãËØïË¥¶Âè∑</div>\n                <div class="login-test-account">\n                  <span>ÁÆ°ÁêÜÂëò:admin</span>\n                  <span>ÂØÜÁ†Å:123456</span>\n                </div>\n                <div class="login-test-account">\n                  <span>‰∏öÂä°Âëò:sales</span>\n                  <span>ÂØÜÁ†Å:123456</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `}function handleLogin(){const e=document.getElementById("loginUsername").value,t=document.getElementById("loginPassword").value,i=login(e,t);if(i){const e=document.getElementById("loginError");e.textContent=i,e.style.display="block"}}function renderProductList(){const{currentRole:e,isClientMode:t}=state,i=window.location.hash;let a="admin";i.startsWith("#/sales/")&&(a="sales"),i.startsWith("#/client/")&&(a="client");let o=db.products.map(e=>filterByRole(e,"product"));state.filters.search&&(o=o.filter(e=>e.name.toLowerCase().includes(state.filters.search.toLowerCase())||e.sku.toLowerCase().includes(state.filters.search.toLowerCase()))),state.filters.categoryId&&(o=o.filter(e=>e.categoryId===parseInt(state.filters.categoryId)));renderLayout(`\n        <div class="filter-bar">\n          <div class="filter-row">\n            <div class="filter-item flex-1">\n              <label class="form-label">ÊêúÁ¥¢</label>\n              <input type="text" class="form-input" placeholder="‰∫ßÂìÅÂêçÁß∞ÊàñSKU" value="${state.filters.search}" oninput="state.filters.search = this.value; router();">\n            </div>\n            <div class="filter-item">\n              <label class="form-label">ÂàÜÁ±ª</label>\n              <select class="form-select" onchange="state.filters.categoryId = this.value; router();">\n                <option value="">ÂÖ®ÈÉ®ÂàÜÁ±ª</option>\n                ${db.categories.filter(e=>null!==e.parentId).map(e=>`\n                  <option value="${e.id}" ${state.filters.categoryId==e.id?"selected":""}>${e.name}</option>\n                `).join("")}\n              </select>\n            </div>\n            <div class="filter-item" style="display: flex; align-items: flex-end;">\n              <button class="btn btn-default" onclick="state.filters = { search: '', categoryId: '' }; router();">ÈáçÁΩÆ</button>\n            </div>\n          </div>\n        </div>\n        \n        ${"admin"===a?`\n          <div class="card">\n            <div class="card-header">\n              <div>\n                <div class="card-title">‰∫ßÂìÅÂàóË°®</div>\n                <div class="card-subtitle">ÂÖ± ${o.length} ‰∏™‰∫ßÂìÅ</div>\n              </div>\n              <div class="card-actions">\n                <button class="btn btn-primary" onclick="navigate('#/product-edit')">‚ûï Êñ∞Â¢û‰∫ßÂìÅ</button>\n                <button class="btn btn-default" ${state.selectedProductIds.length<2||state.selectedProductIds.length>8?"disabled":""} onclick="navigate('#/compare')">‚öñÔ∏è ÂºÄÂßãÂØπÊØî (${state.selectedProductIds.length})</button>\n              </div>\n            </div>\n          </div>\n        `:""}\n        \n        <div class="grid grid-3">\n          ${o.map(e=>{const t=getCategoryById(e.categoryId),o=state.selectedProductIds.includes(e.id);return`\n              <div class="product-card">\n                ${"admin"===a?`\n                  <input type="checkbox" class="product-card-checkbox" ${o?"checked":""} onchange="toggleProductSelection(${e.id})" onclick="event.stopPropagation();">\n                `:""}\n                <div class="product-card-image" onclick="navigate('${i.includes("client")?"#/client/product/":i.includes("sales")?"#/sales/product/":"#/product/"}${e.id}')">\n                  ${e.media[0]?.url||"üì¶"}\n                </div>\n                <div class="product-card-body" onclick="navigate('${i.includes("client")?"#/client/product/":i.includes("sales")?"#/sales/product/":"#/product/"}${e.id}')">\n                  <div class="product-card-name">${e.name}</div>\n                  <div class="product-card-sku">SKU: ${e.sku}</div>\n                  <div class="product-card-tags">\n                    ${e.tags?.map(e=>{const t=getTagColor(e);return`<span class="tag" style="background: ${t.bgColor}; color: ${t.color}">${e}</span>`}).join("")||""}\n                  </div>\n                  ${"sales"===a&&e.marketGuidePrice?`\n                    <div class="product-card-price">\n                      <span class="product-card-price-label">ÊåáÂØº‰ª∑</span>\n                      <span class="product-card-price-value">${formatPrice(e.marketGuidePrice)}</span>\n                    </div>\n                  `:""}\n                  ${"admin"===a&&e.marketGuidePrice?`\n                    <div class="product-card-price">\n                      <span class="product-card-price-label">ÊåáÂØº‰ª∑</span>\n                      <span class="product-card-price-value">${formatPrice(e.marketGuidePrice)}</span>\n                    </div>\n                  `:""}\n                  ${"admin"===a&&e.factoryPrice?`\n                    <div class="product-card-price">\n                      <span class="product-card-price-label">Âá∫ÂéÇ‰ª∑ üîí</span>\n                      <span class="product-card-price-value" style="color: #FF4D4F;">${formatPrice(e.factoryPrice)}</span>\n                    </div>\n                  `:""}\n                </div>\n              </div>\n            `}).join("")}\n        </div>\n      `)}function toggleProductSelection(e){const t=state.selectedProductIds.indexOf(e);t>-1?state.selectedProductIds.splice(t,1):state.selectedProductIds.length<8&&state.selectedProductIds.push(e),router()}function renderProductDetail(e){const t=getProductById(e);if(!t)return void render404();const i=filterByRole(t,"product"),a=getCategoryById(i.categoryId),o=i.vendorId?getVendorById(i.vendorId):null,n=a?.templateKey?getTemplateByKey(a.templateKey):null,r=window.location.hash;let s="admin",d="#/products";r.startsWith("#/sales/")&&(s="sales",d="#/sales/products"),r.startsWith("#/client/")&&(s="client",d="#/client/products"),renderLayout(`\n        <div class="card">\n          <div class="card-header">\n            <div>\n              <div class="card-title">${i.name}</div>\n              <div class="card-subtitle">SKU: ${i.sku}</div>\n            </div>\n            <div class="card-actions">\n              <button class="btn btn-default" onclick="navigate('${d}')">‚Üê ËøîÂõûÂàóË°®</button>\n              ${"admin"===s?`<button class="btn btn-primary" onclick="navigate('#/product-edit/${e}')">‚úèÔ∏è ÁºñËæë</button>`:""}\n            </div>\n          </div>\n          <div class="card-body">\n            <div style="display: grid; grid-template-columns: 400px 1fr; gap: 32px;">\n              <div>\n                <div class="media-gallery">\n                  <div class="media-main">${i.media[0]?.url||"üì¶"}</div>\n                </div>\n              </div>\n              \n              <div>\n                <div class="info-grid">\n                  <div class="info-item">\n                    <div class="info-label">ÂìÅÁâå</div>\n                    <div class="info-value">${i.brand}</div>\n                  </div>\n                  <div class="info-item">\n                    <div class="info-label">ÂàÜÁ±ª</div>\n                    <div class="info-value">${a?.name||"-"}</div>\n                  </div>\n                  <div class="info-item">\n                    <div class="info-label">Áä∂ÊÄÅ</div>\n                    <div class="info-value">${i.status}</div>\n                  </div>\n                  ${"admin"===s&&o?`\n                    <div class="info-item">\n                      <div class="info-label">‰æõÂ∫îÂïÜ</div>\n                      <div class="info-value">\n                        <a href="#/vendor/${o.id}">${o.name}</a>\n                      </div>\n                    </div>\n                  `:""}\n                </div>\n                \n                ${i.tags?.length?`\n                  <div style="margin: 16px 0;">\n                    ${i.tags.map(e=>{const t=getTagColor(e);return`<span class="tag" style="background: ${t.bgColor}; color: ${t.color}">${e}</span>`}).join(" ")}\n                  </div>\n                `:""}\n                \n                ${"client"!==s&&(i.marketGuidePrice||i.factoryPrice)?`\n                  <div class="section">\n                    <div class="section-title">‰ª∑Ê†º‰ø°ÊÅØ</div>\n                    ${"sales"===s&&i.marketGuidePrice?`\n                      <div class="alert alert-info">\n                        <div>\n                          <div style="font-weight: bold;">Â∏ÇÂú∫ÊåáÂØº‰ª∑</div>\n                          <div style="font-size: 24px; color: #1890FF; font-weight: bold; margin-top: 8px;">${formatPrice(i.marketGuidePrice)}</div>\n                        </div>\n                      </div>\n                    `:""}\n                    ${"admin"===s&&i.marketGuidePrice?`\n                      <div class="alert alert-info">\n                        <div>\n                          <div style="font-weight: bold;">Â∏ÇÂú∫ÊåáÂØº‰ª∑</div>\n                          <div style="font-size: 24px; color: #1890FF; font-weight: bold; margin-top: 8px;">${formatPrice(i.marketGuidePrice)}</div>\n                        </div>\n                      </div>\n                    `:""}\n                    ${"admin"===s&&i.factoryPrice?`\n                      <div class="alert alert-error">\n                        <div>\n                          <div style="font-weight: bold;">üîí Âá∫ÂéÇ‰ª∑(Êú∫ÂØÜ)</div>\n                          <div style="font-size: 24px; color: #FF4D4F; font-weight: bold; margin-top: 8px;">${formatPrice(i.factoryPrice)}</div>\n                          <div style="font-size: 12px; color: #8C8C8C; margin-top: 4px;">MOQ: ${i.moq} pcs</div>\n                        </div>\n                      </div>\n                    `:""}\n                  </div>\n                `:""}\n                \n                ${"client"!==s&&i.benchmarkProduct?`\n                  <div class="section">\n                    <div class="section-title">üéØ Á´ûÂìÅÂØπÊ†á</div>\n                    <div class="alert alert-info">\n                      <div>\n                        <div style="font-weight: bold;">ÂØπÊ†á‰∫ßÂìÅ: ${i.benchmarkProduct}</div>\n                        ${i.benchmarkContext?`<div style="margin-top: 8px;">${i.benchmarkContext}</div>`:""}\n                      </div>\n                    </div>\n                  </div>\n                `:""}\n                \n                ${"admin"===s&&i.salesRestrictions?.length?`\n                  <div class="section">\n                    <div class="section-title">üö´ ÈîÄÂîÆÈôêÂà∂</div>\n                    <div class="alert alert-warning">\n                      ${i.salesRestrictions.map(e=>`\n                        <div style="padding: 4px 0;"><strong>${e.country}</strong> - ${e.client}</div>\n                      `).join("")}\n                    </div>\n                  </div>\n                `:""}\n                \n                ${n?`\n                  <div class="section">\n                    <div class="section-title">ÊäÄÊúØÂèÇÊï∞</div>\n                    <div class="info-grid">\n                      ${n.parameters.map(e=>{const t=i.specs?.[e.fieldKey];let a="‚Äî";return null!=t&&(a="number"===e.type?`${t.value} ${t.unit}`:t),`\n                          <div class="info-item">\n                            <div class="info-label">${e.label}</div>\n                            <div class="info-value">${a}</div>\n                          </div>\n                        `}).join("")}\n                    </div>\n                  </div>\n                `:""}\n                \n                ${i.certifications?.length?`\n                  <div class="section">\n                    <div class="section-title">ËÆ§ËØÅ‰ø°ÊÅØ</div>\n                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">\n                      ${i.certifications.map(e=>`\n                        <span class="tag tag-blue">${e.displayName||e.name}</span>\n                      `).join("")}\n                    </div>\n                  </div>\n                `:""}\n                \n                ${"client"!==s&&i.internalNotes?.collaboration?.length?`\n                  <div class="section">\n                    <div class="section-title">üí° Âçè‰ΩúÂ§áÊ≥®</div>\n                    ${i.internalNotes.collaboration.map(e=>`\n                      <div class="alert alert-${e.type}">\n                        <div>\n                          <div style="font-weight: bold;">${e.icon} ${e.title}</div>\n                          <div style="margin-top: 4px;">${e.content}</div>\n                        </div>\n                      </div>\n                    `).join("")}\n                  </div>\n                `:""}\n                \n                ${"admin"===s&&i.internalNotes?.sensitive?.length?`\n                  <div class="section">\n                    <div class="section-title">üîí Êú∫ÂØÜËµÑÊñô(‰ªÖÁÆ°ÁêÜÂëò)</div>\n                    ${i.internalNotes.sensitive.map(e=>`\n                      <div class="alert alert-${e.type}">\n                        <div>\n                          <div style="font-weight: bold;">${e.icon} ${e.title}</div>\n                          <div style="margin-top: 4px;">${e.content}</div>\n                        </div>\n                      </div>\n                    `).join("")}\n                  </div>\n                `:""}\n              </div>\n            </div>\n          </div>\n        </div>\n      `)}function renderProductCompare(){const e=window.location.hash;let t="admin",i="#/products";e.startsWith("#/sales/")&&(t="sales",i="#/sales/products"),e.startsWith("#/client/")&&(t="client",i="#/client/products");const a=state.selectedProductIds.map(e=>{const t=getProductById(e);return t?filterByRole(t,"product"):null}).filter(Boolean);if(0===a.length)return void renderLayout(`\n          <div class="card">\n            <div class="card-body">\n              <div class="placeholder-page">\n                <div class="placeholder-icon">‚öñÔ∏è</div>\n                <div class="placeholder-title">‰∫ßÂìÅÂØπÊØî</div>\n                <div class="placeholder-desc">ËøòÊ≤°ÊúâÈÄâÊã©ÂØπÊØî‰∫ßÂìÅ,ËØ∑ËøîÂõûÂàóË°®ÈÄâÊã©2-8‰∏™‰∫ßÂìÅ</div>\n                <div class="placeholder-actions">\n                  <button class="btn btn-primary" onclick="navigate('${i}')">‚Üê ËøîÂõûÂàóË°®</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        `);const o=a.map(e=>getCategoryById(e.categoryId)),n=new Map;o.map(e=>e?.templateKey?getTemplateByKey(e.templateKey):null).forEach(e=>{e&&e.parameters.forEach(e=>{n.has(e.fieldKey)||n.set(e.fieldKey,e)})}),renderLayout(`\n        <div class="card">\n          <div class="card-header">\n            <div>\n              <div class="card-title">‰∫ßÂìÅÂØπÊØî</div>\n              <div class="card-subtitle">Ê≠£Âú®ÂØπÊØî ${a.length} ‰∏™‰∫ßÂìÅ</div>\n            </div>\n            <div class="card-actions">\n              <button class="btn btn-default" onclick="navigate('${i}')">‚Üê ËøîÂõûÂàóË°®</button>\n              <button class="btn btn-default" onclick="state.selectedProductIds = []; navigate('${i}')">üóëÔ∏è Ê∏ÖÁ©∫ÂØπÊØî</button>\n            </div>\n          </div>\n          <div class="card-body">\n            <div class="compare-container">\n              <table class="compare-table">\n                <thead>\n                  <tr>\n                    <th style="min-width: 150px;">ÂèÇÊï∞</th>\n                    ${a.map(e=>`\n                      <th>\n                        <div class="compare-product-header">\n                          <div class="compare-product-icon">${e.media[0]?.url||"üì¶"}</div>\n                          <div class="compare-product-name">${e.name}</div>\n                          <div class="compare-product-sku">${e.sku}</div>\n                          <div class="compare-remove" onclick="removeFromCompare(${e.id})">ÁßªÈô§</div>\n                        </div>\n                      </th>\n                    `).join("")}\n                  </tr>\n                </thead>\n                <tbody>\n                  ${"sales"===t?`\n                    <tr style="background: #FFF7E6;">\n                      <td><strong>Â∏ÇÂú∫ÊåáÂØº‰ª∑</strong></td>\n                      ${a.map(e=>`\n                        <td style="text-align: center; font-size: 18px; font-weight: bold; color: #1890FF;">\n                          ${e.marketGuidePrice?formatPrice(e.marketGuidePrice):"‚Äî"}\n                        </td>\n                      `).join("")}\n                    </tr>\n                  `:""}\n                  ${"admin"===t?`\n                    <tr style="background: #FFF7E6;">\n                      <td><strong>Â∏ÇÂú∫ÊåáÂØº‰ª∑</strong></td>\n                      ${a.map(e=>`\n                        <td style="text-align: center; font-size: 18px; font-weight: bold; color: #1890FF;">\n                          ${e.marketGuidePrice?formatPrice(e.marketGuidePrice):"‚Äî"}\n                        </td>\n                      `).join("")}\n                    </tr>\n                    <tr style="background: #FFF1F0;">\n                      <td><strong>üîí Âá∫ÂéÇ‰ª∑</strong></td>\n                      ${a.map(e=>`\n                        <td style="text-align: center; font-size: 18px; font-weight: bold; color: #FF4D4F;">\n                          ${e.factoryPrice?formatPrice(e.factoryPrice):"‚Äî"}\n                        </td>\n                      `).join("")}\n                    </tr>\n                    <tr style="background: #FFF1F0;">\n                      <td><strong>üîí MOQ</strong></td>\n                      ${a.map(e=>`\n                        <td style="text-align: center;">\n                          ${e.moq?`${e.moq} pcs`:"‚Äî"}\n                        </td>\n                      `).join("")}\n                    </tr>\n                  `:""}\n                  ${"client"!==t?`\n                    <tr style="background: #E6F7FF;">\n                      <td><strong>üéØ ÂØπÊ†á‰∫ßÂìÅ</strong></td>\n                      ${a.map(e=>`\n                        <td style="text-align: center;">\n                          ${e.benchmarkProduct||"‚Äî"}\n                        </td>\n                      `).join("")}\n                    </tr>\n                  `:""}\n                  ${Array.from(n.values()).map(e=>`\n                    <tr>\n                      <td><strong>${e.label}</strong></td>\n                      ${a.map(t=>{const i=t.specs?.[e.fieldKey];let a="‚Äî";return null!=i&&(a="number"===e.type?`${i.value} ${i.unit}`:i),`<td style="text-align: center;">${a}</td>`}).join("")}\n                    </tr>\n                  `).join("")}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      `)}function removeFromCompare(e){const t=state.selectedProductIds.indexOf(e);t>-1&&state.selectedProductIds.splice(t,1),router()}function renderProductEdit(e){renderLayout(`\n        <div class="placeholder-page">\n          <div class="placeholder-icon">üöß</div>\n          <div class="placeholder-title">ÂäüËÉΩÂºÄÂèë‰∏≠</div>\n          <div class="placeholder-desc">‰∫ßÂìÅÁºñËæëÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠</div>\n          <div class="placeholder-actions">\n            <button class="btn btn-primary" onclick="navigate('#/products')">‚Üê ËøîÂõû‰∫ßÂìÅÂàóË°®</button>\n          </div>\n        </div>\n      `)}function renderVendorList(){renderLayout(`\n        <div class="placeholder-page">\n          <div class="placeholder-icon">üè≠</div>\n          <div class="placeholder-title">‰æõÂ∫îÂïÜÂàóË°®</div>\n          <div class="placeholder-desc">‰æõÂ∫îÂïÜÁÆ°ÁêÜÂäüËÉΩÊºîÁ§∫</div>\n          <div class="placeholder-actions">\n            <button class="btn btn-primary" onclick="navigate('#/products')">‚Üê ËøîÂõû‰∫ßÂìÅÂàóË°®</button>\n          </div>\n        </div>\n      `)}function renderVendorDetail(e){renderLayout(`\n        <div class="placeholder-page">\n          <div class="placeholder-icon">üè≠</div>\n          <div class="placeholder-title">‰æõÂ∫îÂïÜËØ¶ÊÉÖ</div>\n          <div class="placeholder-desc">‰æõÂ∫îÂïÜËØ¶ÊÉÖÂäüËÉΩÊºîÁ§∫</div>\n          <div class="placeholder-actions">\n            <button class="btn btn-primary" onclick="navigate('#/vendors')">‚Üê ËøîÂõû‰æõÂ∫îÂïÜÂàóË°®</button>\n          </div>\n        </div>\n      `)}function renderVendorEdit(e){renderLayout(`\n        <div class="placeholder-page">\n          <div class="placeholder-icon">üöß</div>\n          <div class="placeholder-title">ÂäüËÉΩÂºÄÂèë‰∏≠</div>\n          <div class="placeholder-desc">‰æõÂ∫îÂïÜÁºñËæëÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠</div>\n          <div class="placeholder-actions">\n            <button class="btn btn-primary" onclick="navigate('#/vendors')">‚Üê ËøîÂõû‰æõÂ∫îÂïÜÂàóË°®</button>\n          </div>\n        </div>\n      `)}function renderSettings(e){renderLayout(`\n        <div class="placeholder-page">\n          <div class="placeholder-icon">‚öôÔ∏è</div>\n          <div class="placeholder-title">Á≥ªÁªüËÆæÁΩÆ</div>\n          <div class="placeholder-desc">ËÆæÁΩÆÂäüËÉΩÊºîÁ§∫</div>\n          <div class="placeholder-actions">\n            <button class="btn btn-primary" onclick="navigate('#/products')">‚Üê ËøîÂõû‰∫ßÂìÅÂàóË°®</button>\n          </div>\n        </div>\n      `)}function render404(){renderLayout(`\n        <div class="placeholder-page">\n          <div class="placeholder-icon">‚ùå</div>\n          <div class="placeholder-title">È°µÈù¢Êú™ÊâæÂà∞</div>\n          <div class="placeholder-desc">404 - Not Found</div>\n          <div class="placeholder-actions">\n            <button class="btn btn-primary" onclick="navigate('${"sales"===state.currentRole?"#/sales/products":"#/products"}')">ËøîÂõûÈ¶ñÈ°µ</button>\n          </div>\n        </div>\n      `)}window.addEventListener("hashchange",router),window.addEventListener("load",router);
  </script>
</body>
</html>
